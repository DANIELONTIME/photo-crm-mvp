require("dotenv").config();
const app = require("./app");

// 🛠️ Rotas
const authRoutes = require('../routes/auth');
const clientRoutes = require('../routes/clients');
const eventRoutes = require('../routes/events');

// 🧠 Use as rotas ANTES de iniciar o servidor
app.use("/api/clients", clientRoutes);
app.use("/api/auth", authRoutes);

const PORT = process.env.PORT || 3001;
const HOST = process.env.HOST || "0.0.0.0";

app.listen(PORT, HOST, () => {
  console.log("🚀 ================================");
  console.log(`📍 Servidor rodando em http://${HOST}:${PORT}` );
  console.log(`🏥 Health check: http://${HOST}:${PORT}/health` );
  console.log(`🌍 Ambiente: ${process.env.NODE_ENV || "development"}`);
  console.log("🚀 ================================");
});
